{"version":3,"sources":["Components/publicationsReader/Publication/Publication.module.css","Components/publicationsReader/Counter/Counter.module.css","Components/publicationsReader/Reader/Reader.module.css","Components/publicationsReader/Publication/Publication.jsx","Components/publicationsReader/Counter/Counter.jsx","Components/publicationsReader/Controls/Controls.jsx","Components/publicationsReader/Reader/Reader.jsx","Components/publicationsReader/PageNotFound/PageNotFound.jsx","Components/App/App.jsx","index.js","Components/publicationsReader/Controls/Controls.module.css"],"names":["module","exports","publication","publicationHeader","publicationText","counter","reader","Publication","_ref","header","text","react_default","a","createElement","className","styles","defaultProps","Counter","currentPublicationNumber","publicationsLength","Controls","onNextClick","onPreviousClick","controls","buttonDisabled","button","type","onClick","Reader","state","publications","length","handleIncrement","_this","setState","prevState","props","history","push","search","concat","handleDecrement","_this2","this","_this$props","location","hrefPage","queryString","parse","transformedPage","page","Number","replace","_this$state","title","publicationsReader_Publication_Publication","publicationsReader_Controls_Controls","publicationsReader_Counter_Counter","Component","PageNotFound","react_router_dom","to","App","react_router","path","exact","component","ReactDOM","render","Components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.371ceaf8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__1_AIR\",\"publicationHeader\":\"Publication_publicationHeader__dXxgO\",\"publicationText\":\"Publication_publicationText__1efjt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__7oIHl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__3Ll5k\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ header, text }) => {\n  return (\n    <article className={styles.publication}>\n      <h2 className={styles.publicationHeader}>\n        {header === '' ? 'Without header' : header}\n      </h2>\n      <p className={styles.publicationText}>\n        {text === '' ? 'Nothing to read' : text}\n      </p>\n    </article>\n  );\n};\n\nPublication.propTypes = {\n  header: PropTypes.string,\n  text: PropTypes.string,\n};\nPublication.defaultProps = {\n  header: '',\n  text: '',\n};\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ currentPublicationNumber, publicationsLength }) => {\n  return (\n    <p className={styles.counter}>\n      {currentPublicationNumber + 1}/{publicationsLength}\n    </p>\n  );\n};\n\nCounter.propTypes = {\n  currentPublicationNumber: PropTypes.number,\n  publicationsLength: PropTypes.number,\n};\n\nCounter.defaultProps = {\n  currentPublicationNumber: 0,\n  publicationsLength: 1,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({\n  onNextClick,\n  onPreviousClick,\n  currentPublicationNumber,\n  publicationsLength,\n}) => {\n  return (\n    <section className={styles.controls}>\n      <button\n        className={\n          currentPublicationNumber <= 0 ? styles.buttonDisabled : styles.button\n        }\n        type=\"button\"\n        onClick={onPreviousClick}\n      >\n        Назад\n      </button>\n      <button\n        className={\n          currentPublicationNumber >= publicationsLength - 1\n            ? styles.buttonDisabled\n            : styles.button\n        }\n        type=\"button\"\n        onClick={onNextClick}\n      >\n        Вперед\n      </button>\n    </section>\n  );\n};\n\nControls.propTypes = {\n  onPreviousClick: PropTypes.func.isRequired,\n  onNextClick: PropTypes.func.isRequired,\n  currentPublicationNumber: PropTypes.number.isRequired,\n  publicationsLength: PropTypes.number.isRequired,\n};\nexport default Controls;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\n\nimport styles from './Reader.module.css';\n\nimport publications from '../../../Sources/publications.json';\n\nexport default class Reader extends Component {\n  state = {\n    currentPublicationNumber: 0,\n    publicationsLength: publications.length,\n  };\n\n  componentDidMount() {\n    const { location, history } = this.props;\n    const hrefPage = queryString.parse(location.search);\n    const { publicationsLength } = this.state;\n\n    let transformedPage = 0;\n    if (hrefPage.page) {\n      switch (true) {\n        case !Number(hrefPage.page):\n          transformedPage = 0;\n          break;\n        case Number(hrefPage.page) - 1 > publicationsLength:\n          transformedPage = publicationsLength - 1;\n          break;\n        case Number(hrefPage.page) - 1 <= 1:\n          transformedPage = 0;\n          break;\n        default:\n          transformedPage = Number(hrefPage.page) - 1;\n      }\n    }\n\n    this.setState(\n      {\n        currentPublicationNumber: transformedPage,\n      },\n\n      () => {\n        const { currentPublicationNumber } = this.state;\n        history.replace({\n          search: `page=${currentPublicationNumber + 1}`,\n        });\n      },\n    );\n  }\n\n  handleIncrement = () => {\n    this.setState(\n      prevState => {\n        const isOldestNumber =\n          prevState.currentPublicationNumber + 1 >=\n          prevState.publicationsLength;\n        return {\n          currentPublicationNumber: isOldestNumber\n            ? prevState.currentPublicationNumber\n            : prevState.currentPublicationNumber + 1,\n        };\n      },\n      () => {\n        this.props.history.push({\n          search: `page=${this.state.currentPublicationNumber + 1}`,\n        });\n      },\n    );\n  };\n\n  handleDecrement = () => {\n    this.setState(\n      prevState => {\n        const lessThenSmallestNumber =\n          prevState.currentPublicationNumber - 1 <= 0;\n\n        return {\n          currentPublicationNumber: lessThenSmallestNumber\n            ? 0\n            : prevState.currentPublicationNumber - 1,\n        };\n      },\n      () => {\n        this.props.history.push({\n          search: `page=${this.state.currentPublicationNumber + 1}`,\n        });\n      },\n    );\n  };\n\n  render() {\n    const { currentPublicationNumber, publicationsLength } = this.state;\n\n    const publicationHeader = publications[currentPublicationNumber].title;\n    const publicationText = publications[currentPublicationNumber].text;\n\n    return (\n      publications.length > 0 && (\n        <div className={styles.reader}>\n          <Publication header={publicationHeader} text={publicationText} />\n          <Controls\n            onNextClick={this.handleIncrement}\n            onPreviousClick={this.handleDecrement}\n            currentPublicationNumber={currentPublicationNumber}\n            publicationsLength={publicationsLength}\n          />\n          <Counter\n            currentPublicationNumber={currentPublicationNumber}\n            publicationsLength={publicationsLength}\n          />\n        </div>\n      )\n    );\n  }\n}\n\nReader.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n    search: PropTypes.string.isRequired,\n  }).isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n    replace: PropTypes.func.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst PageNotFound = () => {\n  return (\n    <div>\n      <h1>Page not found.</h1>\n      <Link to=\"/\">Back to main</Link>\n    </div>\n  );\n};\n\nexport default PageNotFound;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Reader from '../publicationsReader/Reader/Reader';\nimport PageNotFound from '../publicationsReader/PageNotFound/PageNotFound';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <div>\n      <Switch>\n        <Route path=\"/\" exact component={Reader} />\n        <Route path=\"/\" component={PageNotFound} />\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <BrowserRouter>\n    {' '}\n    <App />{' '}\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2lPH_\",\"button\":\"Controls_button__2lbO8\",\"buttonDisabled\":\"Controls_buttonDisabled__UEVfh\"};"],"sourceRoot":""}